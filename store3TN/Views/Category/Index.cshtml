@model IEnumerable<store3TN.Models.SanPham>
@{
	ViewBag.Title = "Index";
	Pager pager = new Pager();
	int pageNo = 0;
	if (ViewBag.Pager != null)
	{
		pager = ViewBag.Pager;
		pageNo = pager.CurrentPage;
	}
	Dictionary<string, int> SLSP = ViewBag.SLSP;
	Dictionary<string, int> RAM = ViewBag.RAM;
	Dictionary<string, int> DungLuong = ViewBag.DungLuong;
}

@{
	Layout = "~/Views/Shared/_Layout.cshtml";
}
<!-- Start Banner Area -->
<section class="banner-area organic-breadcrumb">
	<div class="container">
		<div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
			<div class="col-first">
				<h1>Sản phẩm</h1>
				<nav class="d-flex align-items-center">
					<a href="index.html">Trang chủ<span class="lnr lnr-arrow-right"></span></a>
					<a href="#">Sản phẩm</a>
				</nav>
			</div>
		</div>
	</div>
</section>
<!-- End Banner Area -->
<div class="container">
	<div class="row">
		<div class="col-xl-3 col-lg-4 col-md-5">
			<div class="sidebar-categories">
				<div class="head">Phân loại</div>
				<ul class="main-categories">
					<li class="main-nav-list"><a data-toggle="collapse" href="#fruitsVegetable" aria-expanded="false"
							aria-controls="fruitsVegetable"><span class="lnr lnr-arrow-right"></span>Iphone<span
								class="number">(@SLSP["Iphone"])</span>
						</a>
						<ul class="collapse" id="fruitsVegetable" data-toggle="collapse" aria-expanded="false"
							aria-controls="fruitsVegetable">
							<li class="main-nav-list child"><a href="#">Iphone 10<span class="number">(13)</span></a>
							</li>
							<li class="main-nav-list child"><a href="#">Iphone 11<span class="number">(09)</span></a>
							</li>
							<li class="main-nav-list child"><a href="#">Iphone 12<span class="number">(17)</span></a>
							</li>
							<li class="main-nav-list child"><a href="#">Iphone 13<span class="number">(01)</span></a>
							</li>
							<li class="main-nav-list child"><a href="#">Iphone 14<span class="number">(11)</span></a>
							</li>
						</ul>
					</li>

					<li class="main-nav-list"><a data-toggle="collapse" href="#meatFish" aria-expanded="false"
							aria-controls="meatFish"><span class="lnr lnr-arrow-right"></span>MacBook<span
								class="number">(@SLSP["Macbook"])</span></a>
						<ul class="collapse" id="meatFish" data-toggle="collapse" aria-expanded="false"
							aria-controls="meatFish">
							<li class="main-nav-list child"><a href="#">MacBook Air<span class="number">(13)</span></a>
							</li>
							<li class="main-nav-list child"><a href="#">MacBook Pro<span class="number">(09)</span></a>
							</li>
						</ul>
					</li>

					<li class="main-nav-list"><a data-toggle="collapse" href="#cooking" aria-expanded="false"
							aria-controls="cooking"><span class="lnr lnr-arrow-right"></span>Ipad<span
								class="number">(@SLSP["Ipad"])</span></a>
						<ul class="collapse" id="cooking" data-toggle="collapse" aria-expanded="false"
							aria-controls="cooking">
							<li class="main-nav-list child"><a href="#">Ipad Pro<span class="number">(13)</span></a>
							</li>
							<li class="main-nav-list child"><a href="#">Ipad Air<span class="number">(09)</span></a>
							</li>
							<li class="main-nav-list child"><a href="#">Ipad Mini<span class="number">(17)</span></a>
							</li>
						</ul>
					</li>

					<li class="main-nav-list"><a data-toggle="collapse" href="#beverages" aria-expanded="false"
							aria-controls="beverages"><span class="lnr lnr-arrow-right"></span>AirPods<span class="number">(@SLSP["AirPods"])</span>
						</a>
						<ul class="collapse" id="beverages" data-toggle="collapse" aria-expanded="false"
							aria-controls="beverages">
							<li class="main-nav-list child"><a href="#">AirPods Pro<span class="number">(13)</span></a>
							</li>
							<li class="main-nav-list child"><a href="#">AirPods Max<span class="number">(09)</span></a>
							</li>
							<li class="main-nav-list child"><a href="#">Apple MMTN2<span class="number">(17)</span></a>
							</li>
						</ul>
					</li>

					<li class="main-nav-list"><a data-toggle="collapse" href="#homeClean" aria-expanded="false"
						   aria-controls="homeClean">
							<span class="lnr lnr-arrow-right"></span>Apple Watch<span class="number">(@SLSP["Apple Watch"])</span>
						</a>
						<ul class="collapse" id="homeClean" data-toggle="collapse" aria-expanded="false"
							aria-controls="homeClean">
							<li class="main-nav-list child"><a href="#">Apple Watch S6<span
										class="number">(01)</span></a></li>
							<li class="main-nav-list child"><a href="#">Apple Watch S7<span
										class="number">(11)</span></a></li>
							<li class="main-nav-list child"><a href="#">Apple Watch S8<span
										class="number">(11)</span></a></li>
							<li class="main-nav-list child"><a href="#">Apple Watch Ultra<span
										class="number">(11)</span></a></li>
						</ul>
					</li>

					<li class="main-nav-list"><a data-toggle="collapse" href="#officeProduct" aria-expanded="false"
							aria-controls="officeProduct"><span class="lnr lnr-arrow-right"></span>Phụ kiện
							Laptop<span class="number">(@SLSP["Phụ kiện Laptop"])</span>
						</a>
						<ul class="collapse" id="officeProduct" data-toggle="collapse" aria-expanded="false"
							aria-controls="officeProduct">
							<li class="main-nav-list child"><a href="#">Chuột Apple<span class="number">(13)</span></a>
							</li>
							<li class="main-nav-list child"><a href="#">Bàn phím Magic<span
										class="number">(09)</span></a></li>
						</ul>
					</li>
				</ul>
			</div>
			<div class="sidebar-filter mt-50">
				<div class="top-filter-head">Bộ lọc sản phẩm</div>
				<div class="common-filter">
					<div class="head">Ram</div>
					<form action="#">
						<ul>
							<li class="filter-list"><input class="pixel-radio" id="4GB" type="radio" name="brand"><label for="4GB">4GB (@RAM["4GB"])</label></li>
							<li class="filter-list"><input class="pixel-radio" id="6GB" type="radio" name="brand"><label for="6GB">6GB (@RAM["6GB"])</label></li>
							<li class="filter-list"><input class="pixel-radio" id="8GB" type="radio" name="brand"><label for="8GB">8GB (@RAM["8GB"])</label></li>
							<li class="filter-list"><input class="pixel-radio" id="16GB" type="radio" name="brand"><label for="16GB">16GB (@RAM["16GB"])</label></li>
							<li class="filter-list"><input class="pixel-radio" id="32GB" type="radio" name="brand"><label for="32GB">32GB (@RAM["32GB"])</label></li>
							<li class="filter-list"><input class="pixel-radio" id="64GB" type="radio" name="brand"><label for="64GB">64GB (@RAM["64GB"])</label></li>
						</ul>
					</form>
				</div>
				<div class="common-filter">
					<div class="head">Dung lượng lưu trữ</div>
					<form action="#">
						<ul>
							<li class="filter-list"><input class="pixel-radio" id="32GB" type="radio" name="brand"><label for="32GB">32GB (@DungLuong["32GB"])</label></li>
							<li class="filter-list"><input class="pixel-radio" id="64GB" type="radio" name="brand"><label for="64GB">64GB (@DungLuong["64GB"])</label></li>
							<li class="filter-list"><input class="pixel-radio" id="128GB" type="radio" name="brand"><label for="128GB">128GB (@DungLuong["128GB"])</label></li>
							<li class="filter-list"><input class="pixel-radio" id="256GB" type="radio" name="brand"><label for="256GB">256GB (@DungLuong["256GB"])</label></li>
							<li class="filter-list"><input class="pixel-radio" id="512GB" type="radio" name="brand"><label for="512GB">512GB (@DungLuong["512GB"])</label></li>
							<li class="filter-list"><input class="pixel-radio" id="1TB" type="radio" name="brand"><label for="1TB">1TB (@DungLuong["1TB"])</label></li>
							<li class="filter-list"><input class="pixel-radio" id="2TB" type="radio" name="brand"><label for="2TB">2TB (@DungLuong["2TB"])</label></li>
						</ul>
					</form>
				</div>
				<div class="common-filter">
						<div class="head">Màu sắc</div>
						<form action="#">
							<ul>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="black" name="color"><label for="black">Đen</label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="yellow" name="color"><label for="yellow">Vàng</label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="purple" name="color"><label for="purple">Tím</label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="pink" name="color"><label for="pink">Hồng</label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="blue" name="color"><label for="blue">Xanh dương</label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="red" name="color"><label for="red">Đỏ</label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="white" name="color"><label for="white">Trắng</label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="orange" name="color"><label for="orange">Cam</label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="silver" name="color"><label for="silver">Bạc</label></li>
								<li class="filter-list"><input class="pixel-radio" type="radio" id="green" name="color"><label for="green">Xanh lá</label></li>

							</ul>
						</form>
					</div>
				<div class="common-filter">
					<div class="head">Giá</div>
					<div class="price-range-area">
						<div id="price-range"></div>
						<div class="value-wrapper d-flex">
							<div class="price">Giá:</div>
							<span>$</span>
							<div id="lower-value"></div>
							<div class="to">từ</div>
							<span>$</span>
							<div id="upper-value"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-xl-9 col-lg-8 col-md-7">
			<!-- Start Filter Bar -->
			<div class="filter-bar d-flex flex-wrap align-items-center">
				<div class="sorting">
					<select>
						<option value="1">Giá thấp đến cao</option>
						<option value="1">Giá cao đến thấp</option>
					</select>
				</div>
			</div>
			<!-- End Filter Bar -->
			<!-- Start Best Seller -->
			<section class="lattest-product-area pb-40 category-list">
				<div class="row" id="list-product">
					<!-- for each item in SanPham render it -->
					@foreach (var item in Model)
					{
						var giaGoc = item.GiaGoc.ToString("N0");
						var giaBan = item.GiaBan.ToString("N0");
						<div class="col-lg-4 col-md-6" title="@item.TenSP">
							<div class="single-product">
								<img class="img-fluid" src=@item.HinhAnh alt="">
								<div class="product-details">
									<h6 class="title">@item.TenSP</h6>
									<div class="price">
										<h6>@giaBan VNĐ</h6>
										<h6 class="l-through">@giaGoc VNĐ</h6>
									</div>
									<div class="mt-2 d-flex align-items-center">
										<div>
											@for (int i = 0; i < item.SoSao; i++)
											{
												<i class="fa fa-star star-rv"></i>
											}
											@for (int i = 0; i < 5 - item.SoSao; i++)
											{
												<i class="fa fa-star-o star-rv"></i>
											}
										</div>
										<span class="ml-2">@item.SoDanhGia đánh giá</span>
									</div>
									<div class="prd-bottom">
										<a href="" class="social-info">
											<span class="ti-bag"></span>
											<p class="hover-text">Mua ngay</p>
										</a>
										<a href="" class="social-info">
											<span class="lnr lnr-heart"></span>
											<p class="hover-text">Yêu thích</p>
										</a>
										<a href="/product/@item.MaSP" class="social-info">
											<span class="lnr lnr-move"></span>
											<p class="hover-text">Chi tiết</p>
										</a>
									</div>
								</div>
							</div>
						</div>
					}
			</section>
			<!-- End Best Seller -->
			<!-- Start Filter Bar -->
			<div class="filter-bar d-flex flex-wrap align-items-center">
				<div class="pagination ml-auto">
					@if (pager.TotalPages > 0)
					{
						@if (pager.CurrentPage > 1)
						{
							<a href="/category/?page=@(pager.CurrentPage-1)" class="prev-arrow"><i class="fa fa-long-arrow-left"
							aria-hidden="true"></i></a>
						}
						@for (var pge = pager.StartPage; pge <= pager.EndPage; pge++)
						{
							@if (pge == pager.CurrentPage)
							{
								<a href="#" class="active">@pge</a>
							}
							else
							{
								<a href="/category/?page=@pge">@pge</a>
							}
						}
						@if (pager.CurrentPage < pager.TotalPages)
						{
							<a href="/category/?page=@(pager.CurrentPage+1)" class="next-arrow"><i
							class="fa fa-long-arrow-right" aria-hidden="true"></i></a>
						}
					}
				</div>
			</div>
			<!-- End Filter Bar -->
		</div>
	</div>
</div>

<!-- Start related-product Area -->
<!-- Start related-product Area -->
<section class="related-product-area section_gap">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-lg-6 text-center">
				<div class="section-title">
					<h1>Deal hot của tuần</h1>
					<p>Khám phá ngay những ưu đãi hot trong tuần của chúng tôi.</p>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-9">
				<div class="row">
					@foreach (var item in ViewBag.HotProducts)
					{
						<div class="col-lg-4 col-md-4 col-sm-6 mb-20">
							<div class="single-related-product d-flex">
								<a href="single-product.html"><img src="@item.HinhAnh" width="80" height="60" alt=""></a>
								<div class="desc">
									<a href="single-product.html" class="title">@item.TenSP</a>
									<div class="price">
										<h6>@item.GiaBan.ToString("N0") VNĐ</h6>
										<h6 class="l-through">@item.GiaGoc.ToString("N0") VNĐ</h6>
									</div>
								</div>
							</div>
						</div>
					}
					@* <div class="col-lg-4 col-md-4 col-sm-6 mb-20">
						<div class="single-related-product d-flex">
						<a href="single-product.html"><img src="~/img/product/macbook-pro.jpg" width="80"
						height="60" alt=""></a>
						<div class="desc">
						<a href="single-product.html" class="title">MacBook Pro 2021</a>
						<div class="price">
						<h6>$189.00</h6>
						<h6 class="l-through">$210.00</h6>
						</div>
						</div>
						</div>
						</div> *@
				</div>
			</div>
			<div class="col-lg-3">
				<div class="ctg-right">
					<a href="" target="_blank">
						<img class="img-fluid d-block mx-auto" src="~/img/category/c5.jpg" alt="">
					</a>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- End related-product Area --